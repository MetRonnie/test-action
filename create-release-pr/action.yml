name: Create pull request
description: Create the release PR
# NOTE: Needs GITHUB_TOKEN env variable

# inputs:
#   registry:
#     description: What package registry to print in the PR if publishing package, e.g. 'PyPI' (this input does not )
#     required: false
# outputs:
#   random-number:
#     description: "Random number"
#     value: ${{ steps.random-number-generator.outputs.random-id }}
runs:
  using: node12
  main: index.js
  # Use outcome of push step from main workflow:
  post-if: always() && ! success() && steps.push.outcome == 'success'
  post: delete-branch.js  # On fail: delete PR branch on origin, if it was pushed
